<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

        <title>Models browser</title>
        <base href="/">

        <style>
            body {
                color: #000;
                font-family:Monospace;
                font-size:13px;
                text-align:center;
                font-weight: bold;
                background-color: #fff;
                margin: 0px;
                overflow: hidden;
            }
            #info {
                color:#000;
                position: absolute;
                top: 0px; width: 100%;
                padding: 5px;
            }

            p {
                margin: 0 0 5px;
            }

            ul, li {
                margin: 0;
                padding: 0;
            }
            li {
                float: left;
                list-style: none;
            }

            a {
                color: #009;
                display: block;
                margin: 0 10px 0 0;
                padding: 2px 5px;
                background-color: #ccc;
            }
        </style>

        <script src="/models/js/three.min.js"></script>
        <script src="/models/js/controls/OrbitControls.js"></script>
        <script src="/models/js/Detector.js"></script>
        <script src="/models/js/libs/stats.min.js"></script>
    </head>
    <body>
        <div id="container"></div>

        <div id="indo">
            <p>Models browser: preview each and every model. Rotate around them.</p>
            <ul>
                <li><a href="/models/#test-cube">test-cube</a></li>
                <li><a href="/models/#monkey">monkey</a></li>
            </ul>
        </div>

        <script>
            if ( ! Detector.webgl ) Detector.addGetWebGLMessage();
            var stats;
            var camera, controls, scene, renderer;
            init();
            animate();
            function init() {
                scene = new THREE.Scene();
                scene.fog = new THREE.FogExp2( 0xcccccc, 0.002 );
                renderer = new THREE.WebGLRenderer();
                renderer.setClearColor( scene.fog.color );
                renderer.setPixelRatio( window.devicePixelRatio );
                renderer.setSize( window.innerWidth, window.innerHeight );
                var container = document.getElementById( 'container' );
                container.appendChild( renderer.domElement );
                camera = new THREE.PerspectiveCamera( 60, window.innerWidth / window.innerHeight, 1, 1000 );
                camera.position.z = 500;
                controls = new THREE.OrbitControls( camera, renderer.domElement );
                //controls.addEventListener( 'change', render ); // add this only if there is no animation loop (requestAnimationFrame)
                controls.enableDamping = true;
                controls.dampingFactor = 0.25;
                controls.enableZoom = false;
                // world
                var geometry = new THREE.CylinderGeometry( 0, 10, 30, 4, 1 );
                var material =  new THREE.MeshPhongMaterial( { color:0xffffff, shading: THREE.FlatShading } );
                for ( var i = 0; i < 500; i ++ ) {
                    var mesh = new THREE.Mesh( geometry, material );
                    mesh.position.x = ( Math.random() - 0.5 ) * 1000;
                    mesh.position.y = ( Math.random() - 0.5 ) * 1000;
                    mesh.position.z = ( Math.random() - 0.5 ) * 1000;
                    mesh.updateMatrix();
                    mesh.matrixAutoUpdate = false;
                    scene.add( mesh );
                }
                // lights
                light = new THREE.DirectionalLight( 0xffffff );
                light.position.set( 1, 1, 1 );
                scene.add( light );
                light = new THREE.DirectionalLight( 0x002288 );
                light.position.set( -1, -1, -1 );
                scene.add( light );
                light = new THREE.AmbientLight( 0x222222 );
                scene.add( light );
                //
                stats = new Stats();
                stats.domElement.style.position = 'absolute';
                stats.domElement.style.top = '0px';
                stats.domElement.style.zIndex = 100;
                container.appendChild( stats.domElement );
                //
                window.addEventListener( 'resize', onWindowResize, false );
            }
            function onWindowResize() {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize( window.innerWidth, window.innerHeight );
            }
            function animate() {
                requestAnimationFrame( animate );
                controls.update(); // required if controls.enableDamping = true, or if controls.autoRotate = true
                stats.update();
                render();
            }
            function render() {
                renderer.render( scene, camera );
            }
        </script>
    </body>
</html>



